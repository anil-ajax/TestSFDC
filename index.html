<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
</head>
<body>

    <div id="lightningout"></div>

    <script src="https://d5j000008xeaseai-dev-ed.my.salesforce.com/lightning/lightning.out.js"></script>
<script>
    window.addEventListener("message", function(event) {
    if (event.data && event.data.token) {
        const accessToken = event.data.token;
        console.log("Access Token received from LWC:", accessToken);
        // You can now use the access token as needed in the container
    }
});
    
    //console.log('at1:' + at);
      $Lightning.use(
        'c:NewLightningOut', // name of the Lightning app
        function () {
          // Callback once framework and app loaded
          $Lightning.createComponent(
            'c:greenLight', // top-level component of your app
            {}, // attributes to set on the component when created
            'lightningout', // the DOM location to insert the component
            function (cmp) {
              console.log('The component was created.');// callback when component is created and active on the page
                //console.log('at2:' + at);
            }
          );
        },
        'https://d5j000008xeaseai-dev-ed.my.site.com', '00D5j000008xeAs!AQ0AQDTidZj_WX7t3dmzM9fEFt6z4vJ4WocxE74orvA_Wcgpn07UPvgvYsFKUPgDi3oAEL8jFH4niy_gd409a73s6pgkVgfF'
      );

</script>
</body>
</html>
